{"version":3,"sources":["webpack:///./src/App.js"],"names":["App","props","getAreasRange","state","no_bed","no_bath","no_toilets","mode","Predict","locations","areas","map","lat","lng","specs","prices","setState","P","Math","round","getAddressRange","tno_bed","tno_bath","tno_toilets","currentArea","areaPrice","updateOption","e","topFilter","name","target","value","setTimeout","handleChange","centerChange","center","sort","type","pairAreaPrice","A","i","a","p","sortedPairs","b","sp","Areas","$","window","on","css","scrollTop","parseFloat","toLocaleString","length","Component","hot","module"],"mappings":"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","file":"main.3c5c33028b2ed6c971aa.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { hot } from \"react-hot-loader\";\nimport './App.css';\nimport './toggle.css';\n\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Map from './components/map';\nimport Filter from './components/filter';\n\nimport Areas from './areas';\n\nimport Predict from './utils/predict';\nimport Toggle from 'react-toggle';\n\nimport $ from 'jquery';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      no_bed: 1,\n      no_bath: 1,\n      no_toilets: 1,\n\n      tno_bed: 1,\n      tno_bath: 1,\n      tno_toilets: 1,\n\n      currentArea: {\n        lat: 6.5005,\n        lng: 3.3666\n      },\n      prices: [],\n      areaPrice: 0,\n      mode: true,\n      sort: 'high',\n    }\n  }\n\n  async componentWillMount () {    \n    this.setState({\n      areas: Areas()\n    }, () => {\n      this.getAddressRange();\n      this.getAreasRange();\n    });\n\n    $(window).on('scroll', function () { \n      $(\".header\").css(\"top\", $(this).scrollTop() * .5);\n    });\n  }\n\n  getAreasRange = async () => {\n    const { no_bed, no_bath, no_toilets, mode } = this.state;\n\n    const { prices } = await Predict({ \n      locations: this.state.areas.map(({ lat, lng }) => ({ lat, lng })), \n      specs: { no_bed, no_bath, no_toilets }\n    }, mode);\n\n    this.setState({\n      prices: prices.map((P) => Math.round(P))\n    });\n  }\n\n  getAddressRange = async () => {\n    const { tno_bed: no_bed, tno_bath: no_bath, tno_toilets: no_toilets, currentArea: { lat, lng }, mode } = this.state;\n\n    const { prices } = await Predict({ \n      locations: [{ lat, lng }], \n      specs: { no_bed, no_bath, no_toilets }\n    }, mode);\n\n    this.setState({\n      areaPrice:  Math.round(prices[0])\n    });\n  }\n\n  updateOption = (e, topFilter) => {\n    let name = (!topFilter) ? e.target.name : `t${e.target.name}`;\n    let value = e.target.value; \n\n    this.setState({\n      [name]: value\n    }, () => {\n      setTimeout(\n        (!topFilter) ? this.getAreasRange : this.getAddressRange\n      , 500);\n    });\n  }\n\n  handleChange = () => {\n    this.setState({\n      mode: !this.state.mode\n    }, () => {\n      this.getAddressRange();\n      this.getAreasRange();\n    });\n  }\n\n  centerChange = center => {\n    this.setState({ \n      currentArea: {\n        lat: center.lat(),\n        lng: center.lng()\n      }\n    }, this.getAddressRange);\n  }\n\n  sort = (e) => {\n    let type = e.target.value;\n    let pairAreaPrice = this.state.areas.map((A, i)=> ({ a: A, p: this.state.prices[i]}))\n    \n    let sortedPairs = (type !== 'high') ? \n      pairAreaPrice.sort((a, b) => a.p - b.p) : \n      pairAreaPrice.sort((a, b) => b.p - a.p);\n\n    this.setState({\n      prices: sortedPairs.map((sp) => sp.p),\n      areas: sortedPairs.map((sp) => sp.a)\n    });\n  }\n  \n  render() {\n    const { areas, prices, mode, areaPrice } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Header />\n        <div id=\"main\">\n          <section>\n            <div className=\"container\">\n\n              <h2>Discover By Address</h2>\n            \n              <div className=\"col-lg-8 col-lg-offset-2 col-md-12 col-sm-12 col-xs-12\">\n                <div className=\"col-lg-9 col-md-9 col-sm-8 col-xs-12\">\n                  <Map onCenterChange={this.centerChange} />\n                </div>\n                <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12 input-container\">\n                  <Filter showSort={false} updateOption={e => this.updateOption(e, true)} />\n                  <br />\n                  <div className=\"price-top\">\n                    <span>Total Cost:</span>\n                    <h4>â‚¦{parseFloat(areaPrice).toLocaleString('en')}</h4>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </section>\n          <hr />\n          <section>\n            <div className=\"container\">\n              <h2>Compare By Areas</h2>\n              \n              <Filter showSort={true} sort={this.sort} updateOption={this.updateOption} />\n\n              <div className=\"col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-12 col-xs-12\">              \n                <div className=\"input-container col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  {prices.length > 1 && <ul className=\"areas-list\" type=\"none\">\n                    {areas.map((a, i) => {\n                      return (\n                        <li key={i}>\n                          {a.name}\n                          <div className=\"price\">\n                            <span>â‚¦{parseFloat(prices[i]).toLocaleString('en')}</span>\n                          </div>\n                        </li>\n                      )\n                    })}\n                  </ul>}\n                </div>\n              </div>\n            </div>\n          </section>\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default hot(module)(App)\n"],"sourceRoot":""}