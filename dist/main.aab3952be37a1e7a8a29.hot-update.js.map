{"version":3,"sources":["webpack:///./src/components/areas/index.js"],"names":["Areas","props","state","prices","getAreasRange","bind","sort","setState","areas","majorAreasData","prevProps","no_bath","no_bed","no_toilets","Predict","locations","map","lat","lng","specs","P","Math","round","type","pairAreaPrice","A","i","a","p","sortedPairs","b","sp","length","parsedPrice","parseFloat","name","toLocaleString","React","Component","propTypes","PropTypes","string"],"mappings":"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","file":"main.aab3952be37a1e7a8a29.hot-update.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport majorAreasData from '../../areas';\n\nimport Predict from '../../utils/predict';\n\nclass Areas extends React.Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            prices: [],\n        }\n\n        this.getAreasRange = this.getAreasRange.bind(this);\n        this.sort = this.sort.bind(this);\n    }\n    \n    componentDidMount () {    \n        this.setState({\n            areas: majorAreasData()\n        }, () => {\n            this.getAreasRange();\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if  (this.props.sort !== prevProps.sort) {\n            this.sort(this.props.sort);\n        }\n\n        if (this.props.no_bath !== prevProps.no_bath || \n            this.props.no_bed !== prevProps.no_bed && \n            this.props.no_toilets !== prevProps.no_toilets) {\n            this.getAreasRange({\n                no_bed: this.props.no_bed,\n                no_bath: this.props.no_bath,\n                no_toilets: this.props.no_toilets\n            });\n        }\n    }\n    \n    async getAreasRange({ no_bed, no_bath, no_toilets }) {\n        const { prices } = await Predict({\n            locations: this.state.areas.map(({ lat, lng }) => ({ lat, lng })), \n            specs: { no_bed, no_bath, no_toilets }\n        });\n    \n        this.setState({\n            prices: prices.map((P) => Math.round(P))\n        });\n    }\n    \n    sort(type) {\n        let pairAreaPrice = this.state.areas.map((A, i)=> ({ a: A, p: this.state.prices[i]}))\n        \n        let sortedPairs = (type !== 'high') ? \n            pairAreaPrice.sort((a, b) => a.p - b.p) : \n            pairAreaPrice.sort((a, b) => b.p - a.p);\n\n        this.setState({\n            prices: sortedPairs.map((sp) => sp.p),\n            areas: sortedPairs.map((sp) => sp.a)\n        });\n    }\n\n    render() {\n        const { areas, prices } = this.state;\n\n        return (\n            <div className=\"input-container col-lg-6 col-md-6 col-sm-6 col-xs-12\">        \n                {prices.length > 1 && <ul className=\"areas-list\" type=\"none\">\n                    {areas.map((a, i) => {\n                        const parsedPrice = parseFloat(prices[i]);\n                        \n                        if (parsedPrice < 1) return null;\n\n                        return (\n                            <li key={i}>\n                                {a.name}\n                                <div className=\"price\">\n                                    <span>â‚¦{parsedPrice.toLocaleString('en')}</span>\n                                </div>\n                            </li>\n                        )\n                    })}\n                </ul>}\n            </div>\n        );\n    }\n}\n\nAreas.propTypes = {\n    no_bed: PropTypes.string, \n    no_bath: PropTypes.string,\n    no_toilets: PropTypes.string,\n    sort: PropTypes.string\n}\n\nexport default Areas;"],"sourceRoot":""}